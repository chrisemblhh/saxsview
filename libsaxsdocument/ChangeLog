2011-07-30  Daniel Franke  <dfranke@users.sourceforge.net>

	* saxsdocument.h: Updated documentation.
	* saxsdocument.c (saxs_document_create): Added error checking.
	(saxs_document_read): Provide a more meaningful error return.
	(saxs_document_write): Likewise.
	* saxsdocument_format.h: Updated documentation.
	* columns.h: Likewise.
	* columns.c (saxs_reader_columns_parse): Verify number of
	columns before attempting to parse them.
	* atsas_dat.c (atsas_dat_parse_header): Fixed typo.
	(atsas_dat_3_column_parse_data): Provide a more meaningful
	error return.
	(atsas_dat_3_column_write): Likewise.
	(atsas_dat_4_column_parse_data): Likewise.
	(atsas_dat_4_column_write): Likewise.
	(atsas_dat_n_column_parse_data): Removed superfluous error check.
	* atsas_fir_fit.c (atsas_fir_4_column_parse_data): Provide a more
	meaningful error return; removed superfluous error checks.
	(atsas_fit_3_column_parse_data): Likewise.
	(atsas_fit_4_column_parse_data): Likewise.
	(atsas_fit_5_column_parse_data): Likewise.
	* atsas_int.c (atsas_int_parse_data): Likewise.
	* atsas_out.c (parse_probability_data): Likewise.
	(atsas_out_read): Provide a more meaningful error return.
	* cansas_xml.c (cansas_xml_1_0_read): Likewise.
	* csv.c (csv_parse_data): Likewise.

2011-07-30  Daniel Franke  <dfranke@users.sourceforge.net>

	* columns.h: Added doxygen documentation.
	* columns.c (lines_create): Added error checking.
	(lines_printf): If the current line is too short, dynamically
	increase line length.
	(lines_read): Provide a more meaningful error return.
	(lines_write): Likewise.
	(saxs_reader_columns_count): Check for NULL lines.
	(columns_parse): Likewise.
	(saxs_reader_columns_count_file): Provide a more meaningful
	error return.
	(saxs_reader_columns_parse_file): Likewise.
	(saxs_writer_columns_write_file): Likewise.

2011-07-30  Daniel Franke  <dfranke@users.sourceforge.net>
            Al Kikhney  <plmnnk@users.sourceforge.net>

	* saxsdocument_format.h (struct saxs_document_format): Removed
	check function; removed all usages.
	(saxs_document_format_find): Renamed to ...
	(saxs_document_format_find_first): ... this.
	(saxs_document_format_find_next): New.
	* saxsdocument_format.c (saxs_document_format_find): Renamed to ...
	(saxs_document_format_find_first): ... this. Updated all users.
	(saxs_document_format_find_next): New.
	* saxsdocument.c (saxs_document_read): Walk potential format
	handler for a file until one successfully read it.
	(saxs_document_write): Likewise for writing.
	* columns.h (struct line): Removed line_number.
	(lines_create): New.
	(lines_printf): New.
	(lines_append): New.
	(lines_write): New.
	(saxs_writer_columns_write_file): New.
	* columns.c (lines_create): New.
	(lines_printf): New.
	(lines_append): New.
	(lines_read): Handle '-' as indicator to read from stdin;
	use new functions.
	(lines_write): New.
	(saxs_reader_columns_parse_file): Improved propagation of error values.
	(saxs_writer_columns_write_file): New.
	* atsas_dat.c (atsas_dat_parse_header): Attempt to extract some values.
	(atsas_dat_write_header): New.
	(atsas_dat_write_footer): New.
	(atsas_dat_3_column_check): Removed.
	(atsas_dat_3_column_parse_data): Check number of available data columns.
	(atsas_dat_3_column_write_data): New.
	(atsas_dat_3_column_write): New.
	(atsas_dat_4_column_check): Removed.
	(atsas_dat_4_column_parse_data): Check number of available data columns.
	(atsas_dat_4_column_write_data): New.
	(atsas_dat_4_column_write): New.
	(atsas_dat_n_column_check): Removed.
	* atsas_fir_fit.c (atsas_fir_4_column_check): Removed.
	(atsas_fir_4_column_parse_data): Check number of available data columns.
	(atsas_fit_3_column_check): Removed.
	(atsas_fit_3_column_parse_data): Check number of available data columns.
	(atsas_fit_4_column_check): Removed.
	(atsas_fit_4_column_parse_data): Check number of available data columns.
	(atsas_fit_5_column_check): Removed.
	(atsas_fit_5_column_parse_data): Check number of available data columns.
	* atsas_int.c (atsas_int_check): Removed.
	(atsas_int_parse_data): Check number of available data columns.
	* atsas_out.c (atsas_out_check): Removed.
	(saxs_document_format_register_atsas_out): Fixed typo in variable name.
	* cansas_xml.c (cansas_xml_1_0_check): Removed.
	(cansas_xml_1_0_read): Check file version.
	* csv.c (csv_check): Removed.
	* saxsproperty.c (saxs_property_find_next): Fixed.
	* saxsdocument.f90 (saxs_document_add_data): Fixed C-binding.

2011-07-27  Al Kikhney  <plmnnk@users.sourceforge.net>

	* atsas_dat.c: Trailing spaces removed.
	* atsas_fir_fit.c: Likewise.
	* atsas_int.c: Likewise.
	* atsas_out.c: Likewise.
	* cansas_xml.c: Likewise.
	* columns.c: Likewise.
	* columns.h: Likewise.
	* csv.c: Likewise.
	* saxsdocument.c: Likewise.
	* saxsdocument.f90: Likewise.
	* saxsdocument.h: Likewise.
	* saxsdocument_format.c: Likewise.
	* saxsdocument_format.h: Likewise.
	* saxsproperty.c: Likewise.
	* saxsproperty.h: Likewise.

2011-07-26  Daniel Franke  <dfranke@users.sourceforge.net>

	* atsas_out.c (atsas_out_read): Handle job type 3 (particle thickness).

2011-07-02  Daniel Franke  <dfranke@users.sourceforge.net>

	* atsas_dat.c (atsas_dat_n_column_check): Also accept empty .dat files.

2011-05-21  Daniel Franke  <dfranke@users.sourceforge.net>

	* atsas_out.c (parse_header): Recognize reduced number of points
	in real space.
	(atsas_out_read): Recognize gnom job type 4; cross section of
	rod-like particles.

2011-04-30  Daniel Franke  <dfranke@users.sourceforge.net>

	* csv.c: New.
	* columns.c (issep): New.
	(columns_parse): Include check for likely column separators.
	(saxs_reader_columns_count): Likewise.
	(saxs_reader_columns_parse_file): Check if a valid function pointer
	was provided before calling it.
	* saxsdocument_format.c: Register CSV format.
	* CMakeLists.txt: Added new file.

2011-04-13  Daniel Franke  <dfranke@users.sourceforge.net>

	* CMakeLists.txt: Set library API version to 1 to simplify coexistance
	of multiple versions of the library.

2011-04-13  Daniel Franke  <dfranke@users.sourceforge.net>

	* saxsdocument.f90: Fixed definition of DBL-kind.

2011-04-08  Daniel Franke  <dfranke@users.sourceforge.net>

	* atsas_dat.c (saxs_document_format_register_atsas_dat): Fixed initializer.
	* atsas_fir_fit.c (saxs_document_format_register_atsas_fir_fit): Likewise.
	* atsas_int.c (saxs_document_format_register_atsas_int): Likewise.
	* atsas_out.c (saxs_document_format_register_atsas_out): Likewise.
	* columns.c (lines_read): Fixed signedness of comparisons.

2011-04-08  Daniel Franke  <dfranke@users.sourceforge.net>

	* saxsdocument.f90: New.
	* CMakeLists.txt: Added Fortran bindings library.

2010-10-23  Daniel Franke  <dfranke@users.sourceforge.net>

	* atsas_fir_fit.c (atsas_fit_3_column_check): Fixed condition.

2010-10-10  Daniel Franke  <dfranke@users.sourceforge.net>

	* saxsdocument_format.h (struct saxs_document_format): Added member
	'extension', updated prototype of 'check' callback; updated all users.
	(saxs_document_format_clear): New.
	* saxsdocument_format.c (saxs_document_format_free): Free extension
	if set.
	(saxs_document_format_register): Copy extension if set.
	(saxs_document_format_clear): New.
	* saxsdocument.h: Updated documentation.
	* columns.h (saxs_reader_columns_count_file): New.
	(saxs_reader_columns_parse_file): New.
	* columns.c (saxs_reader_columns_count_file): New.
	(saxs_reader_columns_parse_file): New.
	* atsas_dat.c (saxs_document_format_register_atsas_dat): Register
	multiple .dat formats.
	(atsas_dat_check): Removed.
	(parse_header): Renamed to ...
	(atsas_dat_parse_header): ... this.
	(parse_data): Removed.
	(parse_footer): Renamed to ...
	(atsas_dat_parse_footer): ... this.
	(atsas_dat_read): Removed.
	(atsas_dat_3_column_parse_data): New.
	(atsas_dat_3_column_check): New.
	(atsas_dat_3_column_read): New.
	(atsas_dat_4_column_parse_data): New.
	(atsas_dat_4_column_check): New.
	(atsas_dat_4_column_read): New.
	(atsas_dat_n_column_parse_data): New.
	(atsas_dat_n_column_check): New.
	(atsas_dat_n_column_read): New.
	(writer_header): Removed.
	(write_data): Removed.
	(atsas_dat_write): Removed.
	* atsas_fir_fit.c (saxs_document_format_register_atsas_fir_fit):
	Register multiple .fir/.fit formats.
	(atsas_fir_fit_check): Removed.
	(parse_header): Renamed to ...
	(atsas_fir_fit_parse_header): ... this.
	(parse_data): Removed.
	(parse_footer): Renamed to ...
	(atsas_fir_fit_parse_footer): ... this.
	(atsas_fir_fit_read): Removed.
	(atsas_fir_4_column_parse_data): New.
	(atsas_fir_4_column_check): New.
	(atsas_fir_4_column_read): New.
	(atsas_fit_3_column_parse_data): New.
	(atsas_fit_3_column_check): New.
	(atsas_fit_3_column_read): New.
	(atsas_fit_4_column_parse_data): New.
	(atsas_fit_4_column_check): New.
	(atsas_fit_4_column_read): New.
	(atsas_fit_5_column_parse_data): New.
	(atsas_fit_5_column_check): New.
	(atsas_fit_5_column_read): New.
	* atsas_int.c
	(parse_header): Renamed to ...
	(atsas_int_parse_header): ... this.
	(parse_data): Renamed to ...
	(atsas_int_parse_data): ... this.
	(parse_footer): Renamed to ...
	(atsas_int_parse_footer): ... this.
	(atsas_int_read): Use new columns convenience function.

2010-08-10  Daniel Franke  <dfranke@users.sourceforge.net>

	* CMakeLists.txt: Display a more detailed message if libxml2
	was not found.

2010-08-02  Daniel Franke  <dfranke@users.sourceforge.net>

	* CMakeLists.txt: Do not install include files.

2010-07-16  Daniel Franke  <dfranke@users.sourceforge.net>

	* saxsdocument_format.h (saxs_document_format_next): Fixed prototype.
	* saxsdocument_format.c (saxs_document_format_init): Fixed
	registration of cansas-xml.

2010-06-28  Daniel Franke  <dfranke@users.sourceforge.net>

	* saxsdocument_format.h (saxs_document_format_create): New.
	(saxs_document_format_free): New.
	(saxs_document_format_init): New.
	(saxs_document_format_register): New.
	(saxs_document_format_first): New.
	(saxs_document_format_next): New.
	* saxsdocument_format.c (compare_format): Handle NULL-filename.
	(saxs_document_format_create): New.
	(saxs_document_format_free): New.
	(saxs_document_format_init): New.
	(saxs_document_format_register): New.
	(saxs_document_format_first): New.
	(saxs_document_format_next): New.
	* atsas_dat.c (saxs_document_format_register_atsas_dat): New.
	(atsas_dat_check): New.
	(saxs_document_format_atsas_dat): Removed.
	* atsas_fir_fit.c (saxs_document_format_register_atsas_fir_fit): New.
	(atsas_fir_fit_check): New.
	(saxs_document_format_atsas_fir_fit): Removed.
	* atsas_int.c (saxs_document_format_register_atsas_int): New.
	(atsas_int_check): New.
	(saxs_document_format_atsas_int): Removed.
	* atsas_out.c (saxs_document_format_register_atsas_out): New.
	(atsas_out_check): New.
	(saxs_document_format_atsas_out): Removed.
	(parse_scattering_data): Do not skip every second line.
	* cansas_xml.c (saxs_document_format_register_cansas_xml): New.
	(cansas_xml_1_0_check): New.
	(cansas_xml_1_0_write): Removed stub.
	(saxs_document_format_cansas_xml): Removed.

2010-06-20  Daniel Franke  <dfranke@users.sourceforge.net>

	* saxsdocument.h: Modified enum to be used as bitfield;
	re-defined SAXS_CURVE_SCATTERING_DATA as combination of
	experimental and theroretical curves.
	* saxsdocument.c: (saxs_document_curve_find): Do not check for
	type match, but bit match.
	(saxs_curve_find_next): Likewise.
	* atsas_dat.c (parse_data): Set curve type according to columns.
	* atsas_fir_fit.c (parse_data): Likewise.
	* atsas_int.c: Likewise.
	* atsas_out.c: Likewise.
	* cansas_xml.c: Likewise.

2009-12-03  Daniel Franke  <dfranke@users.sourceforge.net>

	* atsas_out.c (parse_scattering_data): Parse extrapolated part of
	scattering curve.

2009-10-04  Daniel Franke  <dfranke@users.sourceforge.net>

	* columns_reader.c: Renamed to ...
	* columns.c: ... this.
	* saxsimage_format.h: Moved to ../libsaximage.
	* saxsimage_format.c: Likewise.
	* saxsimage.h: Likewise.
	* saxsimage.c: Likewise.
	* image_cbf.c: Likewise.
	* image_tiff.c: Likewise.
	* CMakeLists.txt: Removed image-related sections.

2009-10-01  Daniel Franke  <dfranke@users.sourceforge.net>

	* cansas_xml.c: (cansas_xml_1_0_process_node): Adjusted version number in
	conditional inclusion of libxml2-workaround.
	(cansas_xml_1_0_read): Likewise.
	(saxs_document_format_cansas_xml): Likewise.

2009-09-27  Daniel Franke  <dfranke@users.sourceforge.net>

	* cansas_xml.c: New.
	* saxsdocument_format.c (saxs_document_format_find): Conditionally
	register cansas-XML format.
	* CMakeLists.txt: Added dependency on libxml2, conditionally compile
	cansas-support if found.

2009-09-23  Daniel Franke  <dfranke@users.sourceforge.net>

	* image_tiff.c: New.
	* libsaxsdocument/saxsimage_format.c (saxs_image_format_find): Conditionally
	register image format TIFF.
	* CMakeLists.txt: Added dependency on TIFF-library, conditionally compile
	TIFF-support if found.

2009-08-24  Daniel Franke  <dfranke@users.sourceforge.net>

	* saxsdocument_format.h: Added "extern C" include guards.
	* saxsimage_format.h: Likewise.
	* saxsimage.c (saxs_image_create): Fixed initialization of members.
	(saxs_image_free): only close if format-callbacks are set.

2009-08-24  Daniel Franke  <dfranke@users.sourceforge.net>

	* saxsimage_format.h (struct saxs_image_format): Redefined
	callback arguments. Fixed all callers.
	* saxsimage.c (struct saxs_image): Added private data member.
	(saxs_image_create): Initialize private data.
	(saxs_image_free): Plugged memory leak.
	(image_value_min): Performance improvement.
	(image_value_max): Likewise.
	* image_cbf.c: Cleaned out debug messages, updated callback
	prototypes, fixed calls.

2009-08-21  Daniel Franke  <dfranke@users.sourceforge.net>

	* saxsimage.h: New.
	* saxsimage.c: New.
	* saxsimage_format.h: New.
	* saxsimage_format.c: New.
	* image_cbf.c: New.
	* CMakeLists.txt: Added new files, link with libcbf.

2009-08-21  Daniel Franke  <dfranke@users.sourceforge.net>

	* saxsdocument_format.c: Add missing include file.

2009-08-21  Daniel Franke  <dfranke@users.sourceforge.net>

	* saxsdocument_format.h: Add license.

2009-08-21  Daniel Franke  <dfranke@users.sourceforge.net>

	* formats.h: Removed.
	* formats.c: Removed.
	* saxsdocument_format.h: New.
	* saxsdocument_format.c: New.
	* atsas_dat.c (saxs_reader_dat): Renamed to ...
	(atsas_dat_read): ... this.
	(saxs_writer_dat): Renamed to ...
	(atsas_dat_write): ... this.
	(saxs_document_format_atsas_dat): New.
	* atsas_fir_fit.c (saxs_reader_fir_fit): Renamed to ...
	(atsas_fir_fit_read): ... this.
	(saxs_document_format_atsas_fir_fit): New.
	* atsas_int.c (saxs_reader_int): Renamed to ...
	(atsas_int_read): ... this.
	(saxs_document_format_atsas_int): New.
	* atsas_out.c (saxs_reader_out): Renamed to ...
	(atsas_out_read): ... this.
	(saxs_document_format_atsas_out): New.
	* saxsdocument.c (saxs_document_read): Use new format handling.
	(saxs_document_write): Likewise.

2009-08-20  Daniel Franke  <dfranke@users.sourceforge.net>

	* dat_reader.c: Merged with ...
	* dat_writer.c: ... this ...
	* atsas_dat.c: ... into this.
	* fir_fit_reader.c: Renamed to ...
	* atsas_fir_fit.c.c: ... this.
	* int_reader.c: Renamed to ...
	* atsas_int.c: ... this.
	* out_reader.c: Renamed to ...
	* atsas_out.c: ... this.
	* CMakeLists.txt: Renamed files.

2009-08-20  Daniel Franke  <dfranke@users.sourceforge.net>

	* saxsproperty.c (saxs_property_append): Removed.

2009-08-20  Daniel Franke  <dfranke@users.sourceforge.net>

	* saxsproperty.h: New.
	* saxsproperty.c: New.
	* saxsdocument.h (struct saxsproperty): Removed.
	(saxs_document_property): Renamed to ...
	(saxs_document_property_first): ... this.
	(saxs_document_property_find): Renamed to ...
	(saxs_document_property_find_first): ... this.
	(saxs_property_next): Removed.
	(saxs_property_find_next): Removed.
	(saxs_property_name): Removed.
	(saxs_property_name): Removed.
	* saxsdocument.c (saxs_document_create): Use property list API
	instead of rolling own version.
	(saxs_document_property_first): Likewise.
	(saxs_document_property_find_first): Likewise.
	(saxs_document_add_property): Likewise.
	(saxs_property_next): Removed.
	(saxs_property_find_next): Removed.
	(saxs_property_name): Removed.
	(saxs_property_name): Removed.
	* dat_writer.c (write_header): Adjusted to changed interface.
	* CMakeLists.txt: Added new files.

2009-08-18  Daniel Franke  <dfranke@users.sourceforge.net>

	* saxsdocument.h: Added some doxygen-style documentation.

2009-08-10  Daniel Franke  <dfranke@users.sourceforge.net>

	* columns_reader.c (lines_read): Fixed invalid read
	on long first lines.

2009-08-09  Daniel Franke  <dfranke@users.sourceforge.net>

	* Initial import.
